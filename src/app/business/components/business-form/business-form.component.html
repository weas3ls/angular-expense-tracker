<form [formGroup]="businessForm" (ngSubmit)="onSubmit()">
    <div class="row">
        <div class="col-12 col-md-6 col-lg-9" [ngClass]="url.endsWith('/edit') ? 'mb-5' : ''">
            <mdb-form-control [ngClass]="url.endsWith('/edit') ? 'form-white' : ''">
                <input mdbValidate mdbInput type="text" class="form-control" formControlName="name" required />
                <label for="name" class="form-label required" mdbLabel>Business Name</label>
                <mdb-error *ngIf="f['name'].invalid && (f['name'].dirty || f['name'].touched)">
                    {{ validationMessages.name.required }}
                </mdb-error>
                <mdb-success *ngIf="f['name'].valid && (f['name'].dirty || f['name'].touched)">
                    {{ validationMessages.success }}
                </mdb-success>
            </mdb-form-control>
        </div>
        <div class="col-12 col-md-6 col-lg-3" [ngClass]="url.endsWith('/edit') ? 'mb-5' : ''">
            <mdb-form-control [ngClass]="url.endsWith('/edit') ? 'form-white' : ''">
                <input mdbValidate mdbInput type="number" class="form-control" formControlName="ein" />
                <label for="ein" class="form-label required" mdbLabel>Business EIN</label>
                <mdb-error *ngIf="f['ein'].invalid && (f['ein'].dirty || f['ein'].touched)">
                    {{ validationMessages.ein.required }}
                </mdb-error>
                <mdb-success *ngIf="f['ein'].valid && (f['ein'].dirty || f['ein'].touched)">
                    {{ validationMessages.success }}
                </mdb-success>
            </mdb-form-control>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-md-6 col-lg-4" [ngClass]="url.endsWith('/edit') ? 'mb-5' : ''">
            <mdb-form-control [ngClass]="url.endsWith('/edit') ? 'form-white' : ''">
                <input
                    mdbValidate
                    mdbInput
                    [mdbDatepicker]="datepicker"
                    type="text"
                    class="form-control"
                    formControlName="dateFounded"
                    (focus)="datepicker.open()"
                />
                <label mdbLabel for="dateFounded" class="form-label required">Date Founded</label>
                <mdb-datepicker-toggle [icon]="'fas fa-calendar'" [mdbDatepicker]="datepicker"></mdb-datepicker-toggle>
                <mdb-datepicker
                    [maxDate]="maxDate"
                    [inline]="true"
                    [format]="'ddd, mmm dd, yyyy'"
                    #datepicker
                ></mdb-datepicker>
                <mdb-error *ngIf="f['dateFounded'].invalid && (f['dateFounded'].dirty || f['dateFounded'].touched)">
                    {{ validationMessages.dateFounded.required }}
                </mdb-error>
                <mdb-success *ngIf="f['dateFounded'].valid && (f['dateFounded'].dirty || f['dateFounded'].touched)">
                    {{ validationMessages.success }}
                </mdb-success>
            </mdb-form-control>
        </div>
        <div class="col-12 col-md-6 col-lg-3" [ngClass]="url.endsWith('/edit') ? 'mb-5' : ''">
            <mdb-form-control [ngClass]="url.endsWith('/edit') ? 'form-white' : ''">
                <input
                    mdbValidate
                    mdbInput
                    formControlName="foundedIn"
                    [mdbAutocomplete]="autocomplete"
                    type="text"
                    class="form-control"
                />
                <label mdbLabel class="form-label required">Founded In</label>
                <mdb-error *ngIf="f['foundedIn'].invalid && (f['foundedIn'].dirty || f['foundedIn'].touched)">
                    {{ validationMessages.foundedIn.required }}
                </mdb-error>
                <mdb-success *ngIf="f['foundedIn'].valid && (f['foundedIn'].dirty || f['foundedIn'].touched)">
                    {{ validationMessages.success }}
                </mdb-success>
            </mdb-form-control>
            <mdb-autocomplete #autocomplete="mdbAutocomplete">
                <mdb-option *ngFor="let option of filteredStates | async" [value]="option.name">
                    {{ option.name }}
                </mdb-option>
                <div *ngIf="notFound" class="autocomplete-no-results">No results found</div>
            </mdb-autocomplete>
        </div>
        <div class="col-12 col-lg-5" [ngClass]="url.endsWith('/edit') ? 'mb-5' : ''">
            <mdb-form-control [ngClass]="url.endsWith('/edit') ? 'form-white' : ''">
                <input mdbInput type="url" class="form-control" formControlName="website" />
                <label mdbLabel for="website" class="form-label">Business Website</label>
            </mdb-form-control>
        </div>
    </div>
    <mdb-form-control [ngClass]="url.endsWith('/edit') ? 'form-white mb-5' : ''">
        <textarea mdbValidate mdbInput class="form-control" formControlName="description" rows="3"></textarea>
        <label mdbLabel for="description" class="form-label required">Description</label>
        <mdb-error *ngIf="f['description'].invalid && (f['description'].dirty || f['description'].touched)">
            {{ validationMessages.description.required }}
        </mdb-error>
        <mdb-success *ngIf="f['description'].valid && (f['description'].dirty || f['description'].touched)">
            {{ validationMessages.success }}
        </mdb-success>
    </mdb-form-control>
</form>
